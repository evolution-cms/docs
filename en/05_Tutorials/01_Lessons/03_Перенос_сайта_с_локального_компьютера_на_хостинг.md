Упаковка файлов

Если у вас есть доступ на хостинг  по протоколу SSH и разрешено использовать распаковку архивов, то перенос файлов в виде архива проще и быстрее всего. Также возможность распаковки архивов может быть доступна из панели управления хостингом.

Все файлы из папки сайта на локальном компьютере запаковываем в архив ZIP. При этом название файла лучше сделать простым и коротким.

Если у вас нет доступа SSH, распаковки через панель или распаковка запрещена хостером, то придется переносить все файлы обычным путем.

Дамп базы данных

Самый простой способ сделать дамп базы - воспользоваться программой phpMyAdmin.

Выбираем базу нашего сайта.
Заходим в раздел «Экспорт»
Выделяем все таблицы для экспорта
Можно установить галочку «Добавить удаление таблицы», чтобы таблицы со старыми данными стирались.
Отмечаем галочку «Послать», чтобы сохранить дамп в виде файла.
Переносим файлы на сервер

Открываем FTP-менеджер любой и в папку своего сайта переносим файлы, включая дамп базы данных.

Работаем с SSH

После входа в консоль сервера наберите команду mc.

Распаковываем файлы

Переходим к папке с нашим сайтом (если нет).  Распаковываем файлы из архива (допустим, что наш архив называется www.zip):

unzip www.zip

Все файлы будут распакованы в папку, где лежит архив.

Устанавливаем права на запись

Для правильной работы CMS необходимо установить права на запись для следующих папок и файлов:

assets/cache
assets/cache/siteCache.idx.php
assets/cache/sitePublishing.idx.php
assets/images
assets/export
Заливаем дамп в базу на хостинге

Проще всего снова воспользоваться phpMyAdmin.

Если у вас нет базы, то нужно ее создать. Если есть, то выбираем свою базу и переходим во вкладку SQL для выполнения запроса.
После окна для ввода запроса есть возможность указать файл. Этим мы и воспользуемся. Нажимаем обзор и выбираем свой файл. При этом важно, чтобы кодировка файла дампа совпадала с указанной.
Отправляем файл с запросом.
Проверка правильности переноса данных

Чтобы проверить правильность перенесенных данных открываем таблицу (prefix) _site_content. Эта таблица содержит все документы, поэтому вы должны увидеть свои русские тексты. Если текст отображается криво, то возможно ваш файл был в неверной кодировке.

Настраиваем конфигурацию MODx

Подключение к базе.

Открываем файл manager/includes/config.inc.php (лучше сделать копию, а не переписывать локальную версию) и корректируем следующие данные:

$database_server = 'localhost'; // Иногда на хостинге сервер базы данных находится отдельно, поэтому может возникнуть необходимость указать прямой адрес сервера
$database_user = 'MyUser'; // Указываем логин для доступа к базе
$database_password = ' MyPassword '; // соответственно пароль для доступа
$database_connection_charset = 'utf8'; // кодировка получаемых данных из базы
Файл через FTP копируем на хостинг.

Настройка путей к файлам

Заходим в систему управления MODx. В меню выбираем Инструментарий -> Конфигурация. Там выбираем вкладку Настройки HTML -> редактора и интерфейса и исправляем настройку Путь к файлам (указываем прямой путь на хостинге).

Переходим во вкладку Другое и меняем также путь в поле Путь для файлового менеджера.

Дополнительная проверка кодировки

Чтобы окончательно удостовериться, что все работает правильно и кодировки указаны везде верные, открываем любой документ (например главную, чтобы далеко не идти). Там пишем такую строку иИшШ и сохраняем. Идем на сайт и смотрим результат. Если все показывается верно, то перенос сделан верно.

Обновление сайта

Если при переносе вы захватили и локальный кэш (а вы его конечно захватили), то лучше выполнить очистку кэша. Для этого выбираем пункт в меню Сайт -> Обновить сайт.