TV-параметр в Evolution CMS - елемент (поле), яке має певну інформацію для поточної сторінки.

TV-параметри дозволяють додати до документа додаткову інформацію, яку потім можна використовувати нарівні з основними параметрами. Вони мають різні типи й в залежності від цього змінюються їх поведінка і зовнішній вигляд. Значення параметра можна вивести на сторінку або передати сніпету для подальшої обробки.

## Для чого потрібен TV-параметр?

TV-параметр потрібен для упорядкування і логічного зберігання інформації на сайті. 

Уявіть, що на сайті є 2 типи матеріалів - товари й новини. Для товару можна створювати параметри, в одному з яких буде зберігатися ціна, а в другому фото. А для новин створити інші параметри - теги та сюжет.

Часто TV-параметри використовуються для створення SEO-полів подібні meta description, keywords і т.д.

## Гнучкість і простота ##
Параметри прив'язуються до шаблонів, і це дозволяє в залежності від типу матеріалу ставити абсолютно різні поля для контенту.

### Приклад параметру:

[\*pagetitle\*]  -  виклик параметру в шаблоні, який поверне заголовок сторінки. Частіше всього він використовується для виводу title:
```
<head>
<title>[*pagetitle*]</title>
</head>
```

Всі параметри можна розділити на основні, системні та користувацькі.

## Основні параметри: ##

Список основних параметрів заздалегідь визначений в Evolution CMS  і має основну інформацію про документ. Більшу частину з них можете побачити при створенні й редагуванні будь-якого документа.

### Найбільш використовувані: ###

- **[\*pagetitle\*]** - заголовок документа
- **[\*longtitle\*]** - розширений заголовок документа
- **[\*description\*]** - опис документа
- **[\*introtext\*]** - анотація документа
- **[\*content\*]** - вміст документа
- **[\*id\*]** - ідентифікатор (номер) документа
- **[\*parent\*]** - номер (ID) батьківського документа
- **[\*pub_date\*]** - дата публікації документа
- **[\*unpub_date\*]** - дата завершення публікації
- **[\*createdby\*]** - Ідентифікатор користувача, який створив документ
- **[\*createdon\*]** - Дата створення документа
- **[\~ідентифікатор\~]** - URL документа за зазначеним ідентифікатором

Варто згадати про те, що параметри можна поєднувати. Особливо це актуально для створення силок на різні документи за допомогою параметру **[\~ідентифікатор\~]**. Як ідентифікатор можна також задати параметр.

**[\~[\*id\*]\~]** - Вивести силку на поточний документ.

**[\~[\*parent\*]\~]** - Вивести силку на батьківський поточного документа.

### Додаткові

- **[\*alias\*]** - псевдонім документа
- **[\*editedby\*]** - ідентифікатор користувача, який редагував документ
- **[\*editedon\*]** - дата редагування документа
- **[\*type\*]** - тип ресурсу (документ, папка або силка)
- **[\*contentType\*]** - тип вмісту (наприклад, text/html)
- **[\*published\*]** - чи опублікований документ (1|0)
- **[\*isfolder\*]** - чи являється документ папкою (1|0)
- **[\*richtext\*]** - чи використовується при редагуванні документа візуальний редактор
- **[\*template\*]** - номер (ID) шаблону, що використовувався для документа
- **[\*menuindex\*]** - порядковий номер відображення в меню
- **[\*searchable\*]** - чи доступний документ для пошуку (1|0)
- **[\*cacheable\*]** - чи кешується документ (1|0)
- **[\*deleted\*]** - документ видалений (1|0)
- **[\*deletedby\*]** - Ідентифікатор користувача, який видалив документ
- **[\*menutitle\*]** - заголовок меню
- **[\*donthit\*]** - Стеження за кількістю відвідувань виключено (1|0)
- **[\*haskeywords\*]** - Документ містить ключові слова (1|0)
- **[\*hasmetatags\*]** - Документ має метатеги (1|0)
- **[\*privateweb\*]** - Документ входить в приватну групу користувацьких документів (1|0)
- **[\*privatemgr\*]** - Документ входить в приватну групу менеджерських документів (1|0)
- **[\*content_dispo\*]** - Варіант видачі вмісту (1 - для відображення | 0 - для завантажування)
- **[\*hidemenu\*]** - Документ не відображається в меню (1|0)
- **[\*alias_visible\*]** - Чи бере участь документ у форматуванні URL(1|0)

### Системні параметри

Параметри, які відображають системні дані

- **[^qt^]** - час на запити до бази даних
- **[^q^]** - запити до бази даних
- **[^p^]** - час на роботу PHP скриптів
- **[^t^]** - спільний час на генерацію сторінки
- **[^s^]** - джерело вмісту (база або кеш)
- **[^m^]** - кількість споживаної пам'яті 

#### Приклад: 

```
Memory : [^m^], 
MySQL: [^qt^], [^q^] request(s), 
PHP: [^p^], 
Total time: [^t^], 
Document from [^s^]. 
```

### Користувацькі TV-параметри

Користувацькі параметри створюються програмістом вручну, зважаючи на досвід і структуру сайту.

## Створення і редагування TV-параметру

Для створення параметра необхідно натиснути на силку "Елементи - Параметри (TV)" і вибрати "Новий параметр (TV)".

![приклад](https://raw.githubusercontent.com/0test/docs/master/ru/02_Разработка/01_TV-параметры/tv_create.png)

### Назначення полів

- **Ім'я параметра** - використовується для виклику TV-параметра. Можна використовувати як англійську, так і російську мову, а також дефіс і знак підкреслення. Пробіл використовувати не можна!
- **Заголовок** - використовується для назви TV-параметра в документі при редагуванні.
- **Опис** - використовується для більш розширеної інформації про параметр в документі при редагуванні, а також в спільному списку TV-параметрів.
- **Тип вводу** - визначає вид отриманої інформації. В залежності від обраного типу інтерфейс змінюється. Більш детально можна побачити "Типи вводу".
- **Значення за замовченням** - визначає значення TV-параметра за замовчуванням при редагуванні документа.
- **Можливі значення** - використовуються в деяких типах вводу (наприклад Radio Options, Check Box) для надання варіантів вибору. Більш детально можна побачити "Визначення значень TV-параметра".
- **Візуальний компонент** - визначає варіант виводу TV-параметра на сторінці сайту. Більш детально можна побачити "Вид TV-параметра".
- **Порядок в списку** - визначає порядок TV-параметра в документі.
- **"Замок" в назві параметра** - якщо включити флажок, то ніхто, крім адміністраторів не зможе редагувати цей TV-параметр.

### Типи вводу ###

- **Text** - поле вводу.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

- **Raw Text, Raw Textarea** - застарілі й не рекомендуються для використовування. 
Замість них рекомендується використовувати Textarea і Textarea (Mini).

- **Textarea і Textarea (Mini)** - текстове поле. Можливі значення не використовуються. Значення за замовчуванням автоматично записуються в полі при першому редагуванні.

- **RichText** - поле з візуальним редактором.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

- **DropDown List Menu** - список, що розкривається.
Поле "Можливі значення" задає список значень і визначається спеціальним форматом. Більш детально можна побачити "Визначення значень TV-параметра". Значення за замовчуванням визначає обраний пункт першому редагуванні.

- **Listbox (Single-Select) і Listbox (Multi-Select)** - список множинного вибору.
Single-Select і Multi-Select відрізняється тільки тим, що в першому варіанті можна вибрати одне значення, а в другому декілька (з використанням Ctrl).
Поле "Можливі значення" задає кінцевий список значень і визначається спеціальним форматом. Більш детально можна побачити "Визначення значень TV-параметра". Значення за замовчуванням визначає обраний пункт першому редагуванні.

- **Radio Options** - переключателі.
Поле "Можливі значення" задає кінцевий список значень і визначається спеціальним форматом. Більш детально можна побачити "Визначення значень TV-параметра". Значення за замовчуванням визначає обраний пункт першому редагуванні.

- **Check Box** - флажки.
Поле "Можливі значення" задає кінцевий список значень і визначається спеціальним форматом. Більш детально можна побачити "Визначення значень TV-параметра". Значення за замовчуванням визначає обраний пункт першому редагуванні.

- **Image** - зображення.
При натисканні кнопки "Вставити" відкривається файловий менеджер, який дозволяє вибрати необхідне зображення і завантажити його.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

- **File** - файл.
При натисканні кнопки "Вставити" відкривається файловий менеджер, який дозволяє вибрати необхідний файл і завантажити його.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

- **URL** - силка.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

- **Email** - електронна пошта.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

- **Number** - число.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

- **Date** - дата.
Перша кнопка викликає календарик, за допомогою якого можна вибрати дату. Друга кнопка стирає дату.
Можливі значення не використовуються. Значення за замовчуванням автоматично записується в полі при першому редагуванні.

### Визначення значень TV-параметра ###

Налаштуванням "Можливі значення" визначаються варіанти для таких параметрів як DropDown List Menu, Listbox, Check Box і Radio Options.

Формат визначення значень наступний:
```
параметр1==значення1||параметр2==значення2||параметр3==значення3
```
Роздільник "==" використовується для розділення відображаючого і фактичного значення, а роздільник "||" роздільник значення міх собою.

Якщо фактичні й відображувальні значення збігаються, то можна використовувати спрощений варіант запису:
```
значення1||значення2||значення3
```
### Приклад ###

Тип вводу: DropDown List Menu
Можливі значення:
```
Червоний==#FF0000||Зелений==#00FF00||Синій==#0000FF
```

Коли користувач буде редагувати документ, то побачить випадаючий список зі значенням "Червоний, Зелений, Синій". При виборі значення і збереження документу в базу зберігається одне зі значень - #FF0000, #00FF00 або #0000FF.
