Использование шаблона

Шаблон в MODx - основная неизменяемая часть страницы сайта, которая определяет ее оформление. Шаблон не требует особого синтаксиса и представляет собой обычный HTML-код (а возможно XHTML или другой) с вызовом необходимых чанков, параметров и сниппетов.

Количество шаблонов чаще всего зависит от числа различных видов оформления. Так как каждый документ в MODx имеет привязку к конкретному шаблону, что и определяет его конечный вид.

Стоит упомянуть также, что существует специальный шаблон blank, который не содержит никакого оформления и не поддается редактированию.

Пример шаблона:

<html>
<head>
<title>[*pagetitle*]</title>
<link href="[(site_url)]/style.css" rel="stylesheet">
</head>
<body>

<div class="menu">
[[Wayfinder? &startId=`5` &level=`1`]]
</div>

{{Поиск}}

<div class="outer">
    <div class="main">
    <h1>[*longtitle*]</h1>
        [*content*]
    </div>
</div>

{{Подвал}}

{{Google}}
</body>
</html>
Как мы видим - это вполне понятная HTML-разметка страницы в которой используются специальные конструкции. Среди них:

Чанки - {{Поиск}}, {{Подвал}}, {{Google}}

Параметры - [*pagetitle*], [*longtitle*], [*content*], [(site_url)]

Сниппет - [[Wayfinder? &startId=`5` &level=`1`]]

Создание и редактирование шаблона

Все шаблоны находятся в следующем месте:

Ресурсы → Управление ресурсами → Шаблон
Список шаблонов выглядит следующим образом:

Список шаблонов MODX EVO

Для создания необходимо нажать на ссылку Новый шаблон, а для редактирования существующего шаблона достаточно нажать на ссылку с его названием. Появится следующая форма:

Создание шаблона в MODX EVO

Назначение полей

Имя шаблона - используется в списке выбора шаблона. Также может понадобиться для некоторых операций сниппетов. Можно использовать как английский так и русский язык, а также дефис (-), знак подчеркивания (_) и пробел.

Описание - выводится рядом с названием шаблона в общем списке. Используется только для описания назначения шаблона и для заполнения не обязательно.

Создать категорию - позволяет выбрать существующую категорию, в которую будет помещен шаблон. Категория позволяет отделить шаблон от остальных в общем списке. Если ни одна категория не выбрана, то шаблон попадет в общую категория Без категории.

Новая категория - если в списке существующих категорий нет подходящей, то можно создать ее просто написав название в этом поле.

Ограничить доступ к редактированию шаблона - если включить флажок, то никто кроме администраторов не сможет редактировать этот шаблон.

Код шаблона (html) - сюда размещается само содержимое шаблона.

Сохранение

Обратим внимание на возможности при сохранении. Для этого есть следующие управляющие кнопки:

Кнопки управления шаблоном в MODX EVO

С основными кнопками все понятно:

Сохранить - создаст новый шаблон

Отмена - вернет нас в список шаблонов без сохранения результата.

Сделать копию - появляется только в режиме редактирования. Смотрите пункт Создание копии шаблона.

Удалить - появляется только в режиме редактирования. Смотрите пункт Удаление шаблона.

Но MODx позволяет определить еще действие после сохранения шаблона:

Создать новый - сразу после сохранения шаблона откроется форма для создания нового. Таким образом можно быстро создать серию шаблонов.

Продолжить редактирование - после сохранения шаблон снова откроется для редактирования. В этом режиме удобно вносить небольшие правки и проверять конечный результат.

Закрыть - после сохранения мы вернемся в общий список шаблонов.

Создание копии шаблона

Иногда бывает необходимо создать копию существующего шаблона. Сделать это очень просто. Для этого необходимо зайти в редактирование нужного шаблона и нажать на кнопку Сделать копию.

Кнопки управления шаблоном в MODX EVO

На всякий случай система попросит от вас подтверждение:

Копия шаблона в MODX EVO

После этого откроется для редактирования копия шаблона. Копия отличается тем, что к ее названию добавляется Duplicate of. Вам остается только исправить название на более подходящее и внести другие необходимые правки.

Копия создается сразу после подтверждения, поэтому если вы нажмете отмену, то в списке шаблонов копия все равно останется.

Удаление шаблона

Для удаления необходимо зайти в режим редактирования соответствующего шаблона и нажать кнопку Удалить.

Кнопки управления шаблоном в MODX EVO

После этого система попросит от вас подтверждение:

Удаление шаблона в MODX EVO

Внимание! Шаблоны удаляются полностью и возможности их восстановить нет.

Шаблон по умолчанию

При создании документа автоматически предлагается шаблон по умолчанию (если отключен плагин Inherit Parent Template). Удобнее всего когда предлагается именно тот шаблон, который необходим чаще всего. Для настройки шаблона по умолчанию необходимо выполнить следующие действия:

Переходим в настройки системы управления:
Инструменты → Конфигурация → Сайт
Находим параметр Шаблон по умолчанию и меняем на нужный
Сохраняем настройки.
FAQ

Есть ли какие-то ограничения на шаблоны дизайна для сайта?

Абсолютно никаких. MODx позволяет реализовать любой дизайн.

Где можно взять готовые шаблоны?

MODx позволяет легко использовать любой сверстанный HTML-макет, который можно заказать у специалистов или найти на специализированных сайтах. Готовых шаблонов именно для MODx не так много, но они есть.