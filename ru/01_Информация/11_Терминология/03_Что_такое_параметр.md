Использование параметра 

Параметр в MODx - элемент, который содержит определенную информацию для текущей страницы. Их можно непосредственно вывести на страницу или передать сниппету в качестве параметра.

Все параметры можно разделить на основные, TV-параметры и системные.

####Пример параметра:

[*pagetitle*]
Это основной параметр который вернет нам заголовок страницы. Чаще всего он используется для вывода title у страницы:

<head>
<title>[*pagetitle*]</title>
</head>
Основные параметры

Список основных параметров заранее определен и содержит основную информацию о документе.

Наиболее используемые

[*pagetitle*] - заголовок документа
[*longtitle*] - расширенный заголовок документа
[*description*] - описание документа
[*introtext*] - аннотация документа
[*content*] - содержимое документа
[*id*] - идентификатор (номер) документа
[*parent*] - номер (ID) родительского документа
[*pub_date*] - дата публикации дкоумента
[*unpub_date*] - дата завершения публикации
[*createdby*] - Идентификатор пользователя создавшего документ
[*createdon*] - Дата создания документа
[~идентификатор~] - URL документа по указанному идентификатору

Стоит отдельно упомянуть о том, что параметры можно сочетать. В особенности это актиально для создания ссылок на разные документы с помощью параметра [~идентификатор~]. В качестве идентификатора можно также задать параметр.

[~[*id*]~]
Вывести ссылку на текущий документ.

[~[*parent*]~]
Вывести ссылку на родителя текущего документа.

Дополнительно

[*alias*] - псевдоним документа
[*editedby*] - Идентификатор пользователя редактировавшего документ
[*editedon*] - Дата редактирования документа
[*type*] - вариант (документ, папка или ссылка)
[*contentType*] - тип содержимого (например, text/html)
[*published*] - опубликован ли документ (1|0)
[*isfolder*] - является ли документа папкой (1|0)
[*richtext*] - используется ли при редактировании документа визуальный редактор
[*template*] - номер (ID) используемого шаблона для документа
[*menuindex*] - порядковый номер отображения в меню
[*searchable*] - доступен ли документ для поиска (1|0)
[*cacheable*] - Кэшируется ли документ (1|0)
[*deleted*] - Документ удален (1|0)
[*deletedby*] - Идентификатор пользователя удалившего документ
[*menutitle*] - Заголовок меню.
[*donthit*] - Слежение за количеством посещений отключено (1|0)
[*haskeywords*] - Документ содержит ключевые слова (1|0)
[*hasmetatags*] - Документ имеет метатеги (1|0)
[*privateweb*] - Документ входит в частную группу пользовательских документов (1|0)
[*privatemgr*] - Документ входит в частную группу менеджерских документов (1|0)
[*content_dispo*] - Вариант выдачи содержимого (1 - для отображения | 0 - для скачивания)
[*hidemenu*] - Документ не отображается в меню (1|0)

TV-параметры

TV-параметры позволяют добавить к документу дополнительную информацию, которую затем можно использовать на равне с основными параметрами. Также TV-параметры имеют различные типы и в зависимости от этого меняется их управление и представление.

####Пример параметра:

[*МойПараметр*]
Создание и редактирование TV-параметра

Все чанки находятся в следующем месте:

Ресурсы → Управление ресурсами → Параметры (TV)
Список TV-параметров выглядит примерно так:

Список TV-параметров в MODX EVO

Для создания необходимо нажать на ссылку Новый параметр (TV), а для редактирования существующего TV-параметра достаточно нажать на ссылку с его названием. Появится следующая форма:

Создание TV-параметра в MODX EVO

Назначение полей

Имя параметра - используется для вызова TV-параметра. Можно использовать как английский так и русский язык, а также дефис (-) и знак подчеркивания (_). Пробел использовать нельзя!

Заголовок - используется для обозначения TV-параметра в документе при редактировании.

Описание - используется для более расширенной информации о TV-параметре в документе при редактировании, а также в общем списке TV-параметров.

Тип ввода - определяет вид получаемой информации. В зависимости от выбранного типа интерфейс меняется. Более подробно смотрите Типы ввода TV-параметров.

Значение по умолчанию - определеяет значение TV-параметра по умолчанию при редактировании документа.

Возможные значения - используются в некоторых типах ввода (например Radio Options, Check Box) для предоставления вариантов выбора. Более подробно смотрите Определение значений TV-параметра.

Визуальный компонент - определеяет вариант вывода TV-параметра на страницу сайта. Более подробно смотрите Вид TV-параметра.

Порядок в списке - определяет порядок TV-параметра в документе.

Ограничить доступ к редактированию параметра - если включить флажок, то никто кроме администраторов не сможет редактировать этот TV-параметр.

Типы ввода

Text - поле ввода

Поле ввода MODX EVO

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

Raw Text, Raw Textarea

Устарели и не рекомендуются к использованию. Вместо них рекомендуется использовать Textarea и Textarea (Mini).

Textarea и Textarea (Mini) - текстовое поле

Текстовое поле в MODX EVO

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

RichText - поле с визуальным редактором

Визуальный редактор (RichText) в MODX EVO

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

DropDown List Menu - раскрывающийся список

Выпадающий список в MODX EVO

Поле Возможные значения задает конечный список значений и определеляется специальным форматом. Более подробно смотрите Определение значений TV-параметра. Значение по умолчанию определяет выбранный пункт при первом редактировании.

Listbox (Single-Select) и Listbox (Multi-Select) - список множественного выбора

Список с множественным выбором в MODX EVO

Single-Select и Multi-Select отличаются только тем, что в первом варианте можно выбрать одно значение, а во втором несколько (с использование Ctrl).

Поле Возможные значения задает конечный список значений и определеляется специальным форматом. Более подробно смотрите Определение значений TV-параметра. Значение по умолчанию определяет выбранный пункт при первом редактировании.

Radio Options - переключатели

Переключатели (Radio) в MODX EVO

Поле Возможные значения задает конечный список значений и определеляется специальным форматом. Более подробно смотрите Определение значений TV-параметра. Значение по умолчанию определяет выбранный пункт при первом редактировании.

Check Box - флажки

Переключатели (checkbox) в MODX EVO

Поле Возможные значения задает конечный список значений и определеляется специальным форматом. Более подробно смотрите Определение значений TV-параметра. Значение по умолчанию определяет выбранный пункт при первом редактировании.

Image - изображение

Выбор изображения в MODX EVO

При нажатии кнопки Вставить открывается файловый менеджер, который позволяет выбрать необходимое изображение и загрузить его при необходимости.

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

File - файл

Выбор файла в MODX EVO

При нажатии кнопки Вставить открывается файловый менеджер, который позволяет выбрать необходимый файл и загрузить его при необходимости.

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

URL - ссылка

Ссылка - TV-параметр в MODX EVO

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

Email - электронная почта

Email - TV-параметр в MODX EVO

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

Number - число

Число - TV-параметр в MODX EVO

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

Date - дата

Дата - TV-параметр в MODX EVO

Первая кнопка вызывает календарик, с помощью которого можно выбрать дату. Вторая кнопка стирает дату.

Возможные значения не используются. Значение по умолчанию автоматически записывается в поле при первом редактировании.

Определение значений TV-параметра

Настройка Возможные значения определяются возможные варианты для таких параметров как DropDown List Menu, Listbox,Check Box и Radio Options.

Формат определения значений следующий:

параметр1==значение1||параметр2==значение2||параметр3==значение3
Разделитель "==" используется для разделения отображаемого и фактического значения, а разделитель "||" разделяет значения между собой.

Если фактические и отображаемые значения совпадают, то можно использовать упрощенный вариант записи:

значение1||значение2||значение3

####Пример

Тип ввода: DropDown List Menu

Возможные значения:

Красный==#FF0000||Зеленый==#00FF00||Синий==#0000FF
Значения выпадающего список - TV-параметр в MODX EVO

Когда пользователь будет редактировать документ, то он увидит выпадающий список со значениями Красный, Зеленый, Синий. Но при выборе в базу сохранится одно из значений - #FF0000, #00FF00 или #0000FF

Вывод выпадающего списка - TV-параметр в MODX EVO

Если определить возможные значения как Красный||Зеленый||Синий, то выводимое значение будет совпадать с сохраняемым.
