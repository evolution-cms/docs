
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<h3>Ditto: Экстендеры </h3> 
Экстендеры сниппета Ditto это дополнительные расширения которые позволяют решать дополнительные задачи.	
<br>
<p>Экстендеры - это дополнительные расширения, которые позволяют решать дополнительные задачи. Все экстендеры Ditto лежат в папке <code>assets/snippets/ditto/extenders/</code>.</p>
<h3 class="sub-header text-bold"><a id="945"></a>dateFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> Предназначен для фильтрации документов по дате, может использоваться месте со сниппетом Reflect.</p>
<p><span class="text-bold">Параметры:</span> <code>&dateFilterSource</code>, <code>&dateFilterDefault</code>, <code>&month</code>, <code>&year</code>, <code>&day</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> <code>[+year+]</code>, <code>[+month+]</code>, <code>[+day+]</code>, <code>[+month_numeric+]</code></p>
<p><span class="text-bold">Пример:</span></p>
<div class="well">
<div class="slimScroll">
<form id="dateFilterForm" method="get" action="ditto/ekstendery.html">
<div class="row">
<div class="col-sm-3">
<select size="1" name="year" class="form-control">
<option selected value="">-- год --</option>
<option value="2015" >2015</option>
<option value="2016" >2016</option>
</select>
</div>
<div class="col-sm-3">
<div class="input-group">
<select size="1" name="month" class="form-control">
<option selected value="">-- месяц --</option>
<option value="1" >Январь</option>
<option value="2" >Февраль</option>
<option value="3" >Март</option>
<option value="4" >Апрель</option>
<option value="5" >Май</option>
<option value="6" >Июнь</option>
<option value="7" >Июль</option>
<option value="8" >Август</option>
<option value="9" >Сентябрь</option>
<option value="10" >Октябрь</option>
<option value="11" >Ноябрь</option>
<option value="12" >Декабрь</option>
</select>
<span class="input-group-btn">
<input type="submit" value="Go" class="btn btn-default shiny">
</span>
</div>
</div>
</div>
</form>
<well>
    <div class="ditto_item" id="ditto_item_216">
        <h3 class="ditto_pageTitle"><a href="ditto/primeneniya.html">Применения</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Ditto является мощным инструментом MODX для создание блога новостных блоков вывод каталога товаров разбивка на страницы вывод краткой версии статьи генерирование архивов сортировка по заголовку.</div>
    </div>
    <div class="ditto_item" id="ditto_item_217">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry.html">Параметры</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Параметры сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_218">
        <h3 class="ditto_pageTitle"><a href="ditto/shablony.html">Шаблоны</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Шаблоны сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_219">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-paginacii.html">Параметры пагинации</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Параметры пагинации сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_220">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-summary.html">Параметры summary</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Параметры summary сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_221">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-datefilter.html">Параметры dateFilter</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Параметры dateFilter сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_222">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-tagging.html">Параметры tagging</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Параметры tagging сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_223">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-request.html">Параметры request</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Благодаря экстендеру request сниппет Ditto обрабатывает значения и выводит результат в соответствии с переданными параметрами.</div>
    </div>
    <div class="ditto_item" id="ditto_item_224">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-glossaryfilter.html">Параметры glossaryFilter</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Параметры glossaryFilter сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_225">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-search.html">Параметры search</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Параметры search сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_226">
        <h3 class="ditto_pageTitle"><a href="ditto/parametry-tvfilter.html">Параметры tvFilter</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Фильтрация по ТВ параметрам в сниппете Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_227">
        <h3 class="ditto_pageTitle"><a href="ditto/plejsholdery.html">Плейсхолдеры</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">У Дитто есть свои собственные пдэйсхолдеры плюс он поддерживает переменные (поля) используемые в каждом документе.</div>
    </div>
    <div class="ditto_item" id="ditto_item_228">
        <h3 class="ditto_pageTitle"><a href="ditto/primery.html">Примеры</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Примеры вызова сниппета Ditto.</div>
    </div>
    <div class="ditto_item" id="ditto_item_229">
        <h3 class="ditto_pageTitle"><a href="ditto/ekstendery.html">Экстендеры</a></h3>
        <div class="ditto_documentInfo">Автор: <strong>Admin</strong> от 19.03.2015</div>
        <div class="ditto_introText">Экстендеры сниппета Ditto это дополнительные расширения которые позволяют решать дополнительные задачи.</div>
    </div>

</well>
</div>
</div>
<pre class="brush: html;">
&lt;form id="dateFilterForm" method="get" action="[~[*id*]~]"&gt;
	&lt;select size="1" name="year"&gt;
		&lt;option selected value=""&gt;-- год --&lt;/option&gt;
		&lt;option value="2015"&gt;2015&lt;/option&gt;
		&lt;option value="2016"&gt;2016&lt;/option&gt;
	&lt;/select&gt;
	&lt;select size="1" name="month"&gt;
		&lt;option selected value=""&gt;-- месяц --&lt;/option&gt;
		&lt;option value="1"&gt;Январь&lt;/option&gt;
		&lt;option value="2"&gt;Февраль&lt;/option&gt;
		&lt;option value="3"&gt;Март&lt;/option&gt;
		&lt;option value="4"&gt;Апрель&lt;/option&gt;
		&lt;option value="5"&gt;Май&lt;/option&gt;
		&lt;option value="6"&gt;Июнь&lt;/option&gt;
		&lt;option value="7"&gt;Июль&lt;/option&gt;
		&lt;option value="8"&gt;Август&lt;/option&gt;
		&lt;option value="9"&gt;Сентябрь&lt;/option&gt;
		&lt;option value="10"&gt;Октябрь&lt;/option&gt;
		&lt;option value="11"&gt;Ноябрь&lt;/option&gt;
		&lt;option value="12"&gt;Декабрь&lt;/option&gt;
	&lt;/select&gt;
	&lt;input type="submit" value="Ок" name="Submit"&gt;
&lt;/form&gt;
&lt;h3&gt;[+year+] [+month+]&lt;/h3&gt;
[!Ditto? &parents=`163` &extenders=`dateFilter` &dateSource=`createdon`!]
</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`dateFilter`</code> - имя используемого расширения</li>
<li><code>&dateSource=`createdon`</code> - поле по которому будет происходить фильтрация</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="946"></a>request</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> Изменение параметров Ditto через URL.</p>
<p><span class="text-bold">Параметры:</span> <code>&stripTags</code>, <code>&bad</code>, <code>&good</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span></p>
<div class="well">
<div class="slimScroll">
<form action="ditto/ekstendery.html"  method="get">
<p>Сортировать по...</p>
<div class="row">
<div class="col-sm-3">
<div class="input-group">
<select name="ditto_id1_sortDir" class="form-control"> 
<option value="">-- выбрать --</option> 
<option value="ASC">Возрастанию</option> 
<option value="DESC">Убыванию</option> 
</select> 
<span class="input-group-btn">
<input type="submit" value="Go" class="btn btn-default shiny">
</span>
</div>
</div>
</div>
</form>
<h3 class="sub-header text-bold">Результат</h3>
<well>
 Экстендеры<br> Шаблоны<br> Примеры<br> Применения<br> Плейсхолдеры<br> Параметры пагинации<br> Параметры tvFilter<br> Параметры tagging<br> Параметры summary<br> Параметры search<br> Параметры request<br> Параметры glossaryFilter<br> Параметры dateFilter<br> Параметры<br>
</well>
</div>
</div>
<pre class="brush: html;">
&lt;form action="[~[*id*]~]" method="get"&gt;
	&lt;p&gt;Сортировать по...&lt;/p&gt;
	&lt;select name="ditto_id1_sortDir"&gt;
		&lt;option value=""&gt;-- выбрать --&lt;/option&gt;
		&lt;option value="ASC"&gt;Возрастанию&lt;/option&gt;
		&lt;option value="DESC"&gt;Убыванию&lt;/option&gt; 
	&lt;/select&gt; 
	&lt;input name="Submit" type="submit" value="Ок"&gt;
&lt;/form&gt;
&lt;h3&gt;Результат&lt;/h3&gt;
[!Ditto? &id=`id1` &parents=`163` &tpl=`@CODE:[+pagetitle+]&lt;br&gt;` &extenders=`request` &sortBy=`pagetitle`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`request`</code> - имя используемого расширения</li>
<li><code>&sortBy=`pagetitle`</code> - параметр, по которому производится сортировка</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="947"></a>summary</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> Формирование краткого описания и подстановка этого описания в плейсхолдер <code>[+summary+]</code>.</p>
<p><span class="text-bold">Параметры:</span> <code>&truncSplit</code>, <code>&trunc</code>, <code>&truncAt</code>, <code>&truncLen</code>, <code>&truncOffset</code>, <code>&truncText</code>, <code>&tplTrunc</code>.</p>
<p><span class="text-bold">Плейсхолдеры:</span> <code>[+summary+]</code>, <code>[+link+]</code></p>
<p><span class="text-bold">Пример:</span></p>
<p>Вывести аннотации к документам, но поле <code>[+introtext+]</code> у документов не заполнено или заполнено не у всех документов. В шаблоне вместо плейсхолдера <code>[+introtext+]</code> вставляем плейсхолдер <code>[+summary+]</code>, а вызов сниппета станет таким:</p>
<pre class="brush: html;">[!Ditto? &tpl=`@CODE:&lt;h3&gt;[+pagetitle+]&lt;/h3&gt;&lt;p&gt;[+summary+]&lt;/p&gt;&lt;p&gt;[+link+]&lt;/p&gt;` &parents=`2` &extenders=`summary` &truncLen=`400` &truncText=`Подробнее...`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`summary`</code> - имя используемого расширения</li>
<li><code>&truncLen=`400`</code> - максимальное количество отображаемых символов</li>
<li><code>&truncText=`Подробнее...`</code> - текст ссылки на подробное описание</li>	
</ul>
</div>

<h3 class="sub-header text-bold"><a id="948"></a>tagging</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> Фильтрация документов по тегам.</p>
<p><span class="text-bold">Параметры:</span> <code>&tagDocumentID</code>, <code>&tags</code>, <code>&tagMode</code>, <code>&tagDelimiter</code>, <code>&caseSensitive</code>, <code>&tagDisplayDelimiter</code>, <code>&tagSort</code>, <code>&tagData</code>, <code>&tagDisplayMode</code>, <code>&tplTagLinks</code>, <code>&tagCallback</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> <code>[+tagLinks+]</code>, <code>[+tags+]</code></p>
<p>Экстендер <code>tagging</code> автоматически подключается при использовании параметра <code>&tagData</code>. В качестве значения параметра <code>&tagData</code> используется имя TV-параметра с типом ввода <code>Text</code>, <code>Radio Options</code> или <code>Check Box</code>. По умолчанию, разделителем между тегами является пробел. Изменить разделитель можно с помощью параметра <code>&tagDelimiter=`, `</code>. Теги отображаются в плейсхолдере <code>[+tagLinks+]</code> в виде набора ссылок.</p>
<pre class="brush: html;">
[!Ditto?
&parents=`4`
&tagData=`keyw`
&tagDelimiter=`,`
&tagDisplayDelimiter=`, `
&tpl=`@CODE:&lt;h3&gt;[+pagetitle+]&lt;small&gt;[+tagLinks+]&lt;/small&gt;&lt;/h3&gt;`
&tagSort=`0`
&tagDocumentID=`[*id*]`!]
</pre>
<p>где:</p>
<ul>
<li><code>&tagData=`keyw`</code> - поле документа или переменная шаблона, содержащая теги</li>
<li><code>&tagDelimiter=`,`</code> - разделитель между тегами</li>
<li><code>&tagDisplayDelimiter=`, `</code> - разделитель между тегами при их выводе</li>
<li><code>&tagSort=`0`</code> - отключаем сортировку тегов по алфавиту</li>
<li><code>&tagDocumentID=`[*id*]`</code> - ID документа, где будет выводиться список отфильтрованных документов</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="949"></a>andFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Источник:</span> /assets/snippets/ditto/extenders/andFilter.extender.inc.php</p>
<pre class="brush: php;">
&lt;?php
// ---------------------------------------------------
// Group: Filters
// The filter works with TV settings that have multiple values, checking for compliance with each
//**************************
// zk – http://nopreset.ru
//**************************
// Example call Ditto:
// [!Ditto? &startID=`42` &tpl=`tpl` &extenders=`andFilter` &andFilterTv=`color:green,red;size:L,XL,XXL` !] 
// – will return documents where all the red and green things the size L, XL and XXL ;)
// ---------------------------------------------------

// If no fieldname value has been supplied, don't do anything else
if ($andFilterTv === false) {
	return false;
}

global $tvsarray;
$tmparray = explode ( ';', $andFilterTv);
foreach ( $tmparray as $tmpvalue ) {
	$tmpexplode = explode ( ':', $tmpvalue );
	$tvsarray[] = $tmpexplode;
	$filtertvs .= (empty($filtertvs)?"":",") . $tmpexplode[0];
}

$filters["custom"]["andFilter"] = array( $filtertvs, "andFilter"); 

if (!function_exists("andFilter")) {
	function andFilter($resource) {
		global $modx,$tvsarray;
		$good = true;
		foreach ( $tvsarray as $tv ) {
			$values = explode( ',', $tv[1] );
			if( array_search($resource[$tv[0]], $values) !== false  ){
				$good = $good && true;
			} else {
				$good = $good && false;
			}
		}
		if ($good) { return 1; } else { return 0; }
	}
}
?&gt;
</pre>
<p>Ещё есть небольшой код для программного формирования фильтров, я их передаю через массив в GET с такими же названиями как TV. (Но у дитто есть баг с массивами, так что или фиксить дитто, или исправить на POST):</p>
<pre class="brush: php;">
&lt;?php
//$array_param = array ( 'tv1', 'tv2' .. )
function andFilterTvGet ( $array_param ) {
	foreach ( $array_param as $param ) {
		if (!is_array($_GET[$param])) continue;
		$andfilter .= (empty($andfilter)?"":";") . $param . ':';
		$params = '';
		foreach ($_GET[$param] as $value) {
			$param_g = htmlspecialchars($value);
			if ( !empty($param_g) ) $params .= (empty($params)?"":",") . $param_g; 
		}
		$andfilter .= $params;
	}
	return $andfilter;
}
</pre>
<p><span class="text-bold">Описание:</span> Фильтрация по TV-параметру, имеющему несколько значений. Проверка на сооответствие каждому значению.</p>
<p><span class="text-bold">Параметры:</span> <code>&andFilterTv</code>.</p>
<p><span class="text-bold">Плейсхолдеры:</span> нет.</p>
<p><span class="text-bold">Пример:</span> Вывести товары красного и зелёного цета, размеров L, XL и XXL</p>
<pre class="brush: html;">[!Ditto? &tpl=`tpl` &parents=`2` &extenders=`andFilter` &andFilterTv=`color:зелёный,красный;size:L,XL,XXL`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`andFilter`</code> - имя используемого расширения</li>
<li><code>&andFilterTv=`color:зелёный,красный;size:L,XL,XXL`</code> - параметры, по которым происходит фильтрация документов.</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="950"></a>countDocs</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> Подсчет количества документов.</p>
<p><span class="text-bold">Обязательные параметры:</span> нет.</p>
<p><span class="text-bold">Плейсхолдеры:</span> <code>[+count+]</code></p>
<p><span class="text-bold">Пример:</span> Вывести общее количество документов в контейнерах 3,4,5:</p>
<pre class="brush: html;">[!Ditto? &tpl=`@CODE:[+count+]` &parents=`3,4,5` &extenders=`countDocs` &display=`1`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`countDocs`</code> - имя используемого расширения</li>
<li><code>&display=`1`</code> - устанавливаем значение равное 1, так как нам необходимо вывести количесто только один раз.</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="951"></a>distinct</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Источник:</span> <a rel="nofollow" href="http://modx.com/extras/package/distinctdittoextender" target="_blank">distinct</a></p>
<p><span class="text-bold">Описание:</span> Возвращает только уникальные результаты полей, указанных в качестве значения параметра <code>&distinct=`param1,param2`</code>.</p>
<p><span class="text-bold">Параметры:</span> <code>&distinct</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span> получить только уникальные заголовки страниц для каждой даты.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`distinct` &distinct=`pagetitle,pub_date`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`distinct`</code> - имя используемого расширения</li>
<li><code>&distinct=`pagetitle,pub_date`</code> - параметры, по которым производится фильтрация</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1142"></a>customsort или nosort</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Источник:</span> Создать экстендер в <span class="text-bold">assets/snippets/ditto/extenders/</span> с именем customsort.extender.inc.php и следующее содержимое:</p>
<pre class="brush: php;">
&lt;?php
if(!function_exists('customsort')){
	function customsort($a, $b){
		$pos_a=array_search($a['id'],$GLOBALS['documents']);
		$pos_b=array_search($b['id'],$GLOBALS['documents']);
		if($pos_a == $pos_b){
			return 0;
		}
		return($pos_a < $pos_b)?-1:1;
	}
}
$GLOBALS['documents']=explode(',',$documents);
$orderBy["custom"][] = array("id", "customsort");
$ditto->advSort = true;
?&gt;
</pre>
<p><span class="text-bold">Описание:</span> Пользовательский порядок сортировки документов в параметре <code>&documents</code>.</p>
<p><span class="text-bold">Параметры:</span> <code>&documents</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span> вывести список документов в строго заданном порядке.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`customsort` &documents=`40,46,47,35,36,37,44,41,43,49,48,50,54,53`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`customsort`</code> - имя используемого расширения</li>
<li><code>&documents=`40,46,47,35,36,37,44,41,43,49,48,50,54,53`</code> - заданный порядок вывода документов</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1143"></a>glossaryFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Источник:</span> <a rel="nofollow" href="http://forums.modx.com/thread/18715/pagination-issue" target="_blank">glossaryFilter</a></p>
<p><span class="text-bold">Описание:</span> продвинутая фильтрация документов.</p>
<p><span class="text-bold">Параметры:</span> <code>&filterVar</code>, <code>&filterMode</code>, <code>&filterBy</code>, <code>&forceUTF8</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span> фильтрация документов по первым буквам алфавита.</p>
<div class="well">
<button class="btn btn-info btn-sm">A</button> 
<button class="btn btn-info btn-sm">B</button> 
<button class="btn btn-info btn-sm">C</button> 
<button class="btn btn-info btn-sm">D</button> 
<button class="btn btn-info btn-sm">E</button> 
<button class="btn btn-info btn-sm">F</button> 
<button class="btn btn-info btn-sm">G</button> 
<button class="btn btn-info btn-sm">H</button> 
<button class="btn btn-info btn-sm">I</button> 
<button class="btn btn-info btn-sm">J</button> 
<button class="btn btn-info btn-sm">K</button> 
<button class="btn btn-info btn-sm">L</button> 
<button class="btn btn-info btn-sm">M</button> 
<button class="btn btn-info btn-sm">N</button> 
<button class="btn btn-info btn-sm">O</button> 
<button class="btn btn-info btn-sm">P</button> 
<button class="btn btn-info btn-sm">Q</button> 
<button class="btn btn-info btn-sm">R</button> 
<button class="btn btn-info btn-sm">S</button> 
<button class="btn btn-info btn-sm">T</button> 
<button class="btn btn-info btn-sm">U</button> 
<button class="btn btn-info btn-sm">V</button> 
<button class="btn btn-info btn-sm">W</button> 
<button class="btn btn-info btn-sm">X</button> 
<button class="btn btn-info btn-sm">Y</button> 
<button class="btn btn-info btn-sm">Z</button> 
<button class="btn btn-info btn-sm">0-9</button> 
<button class="btn btn-info btn-sm">Все</button> 
<button class="btn btn-info btn-sm" type="submit" name="clear">Очистить</button>
</div>
<pre class="brush: php;">
&lt;?php
$allowed_req = array(
	# 'label-for-button-or-link' =&gt; 'actual-value-for-regex-clause',
	'A' =&gt; 'A',
	'B' =&gt; 'B',
	'C' =&gt; 'C',
	'D' =&gt; 'D',
	'E' =&gt; 'E',
	'F' =&gt; 'F',
	'G' =&gt; 'G',
	'H' =&gt; 'H',
	'I' =&gt; 'I',
	'J' =&gt; 'J',
	'K' =&gt; 'K',
	'L' =&gt; 'L',
	'M' =&gt; 'M',
	'N' =&gt; 'N',
	'O' =&gt; 'O',
	'P' =&gt; 'P',
	'Q' =&gt; 'Q',
	'R' =&gt; 'R',
	'S' =&gt; 'S',
	'T' =&gt; 'T',
	'U' =&gt; 'U',
	'V' =&gt; 'V',
	'W' =&gt; 'W',
	'X' =&gt; 'X',
	'Y' =&gt; 'Y',
	'Z' =&gt; 'Z',
	'0-9' =&gt; '0|1|2|3|4|5|6|7|8|9', 
	'Все' =&gt; 'A|B|C|D|E|F|G|H|I|J|K|L|M|N|O|P|Q|R|S|T|U|V|W|X|Y|Z',
);
$cur_filter = isset($_POST['filter']) && isset($allowed_req[$_POST['filter']]) && $allowed_req[$_POST['filter']] ? $allowed_req[$_POST['filter']] : '';
$index = '&lt;form method="post" action="ditto/ekstendery"&gt;';

foreach ($allowed_req as $label =&gt; $request){
	if ($request) {
		$index .= '&lt;input type="submit" name="filter" value="' . $label . '"' . ($request == $cur_filter ? ' disabled' : '') . '&gt;' . ' ';
	}
}

$index .= '&lt;input type="submit" name="clear" value="Очистить"&gt;&lt;/form&gt;';

$params['parents']='4';
$params['orderBy']='pagetitle ASC';
$params['filterVar']='pagetitle';
$params['filterBy']= $cur_filter;
$params['depth']='1';
$params['extenders']='glossaryFilter';

$custom_filter = $modx-&gt;runSnippet('Ditto',$params);
return $index . ($cur_filter ? $custom_filter : '');
?&gt;
</pre>
</div>

<h3 class="sub-header text-bold"><a id="1150"></a>jotcount</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> количество комментариев Jot к определенной странице в шаблоне Ditto.</p>
<p><span class="text-bold">Параметры:</span> нет</p>
<p><span class="text-bold">Плейсхолдеры:</span> <code>[+jotcount+]</code></p>
<p><span class="text-bold">Пример:</span> вывести количество комментариев.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`jotcount` &tpl=`@CODE:&lt;h3&gt;[+pagetitle+] &lt;small&gt;[+jotcount+]&lt;/small&gt;&lt;/h3&gt;`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`jotcount`</code> - имя используемого расширения</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1151"></a>jotdatesort</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> информация о комментариях Jot к определенной странице в шаблоне Ditto.</p>
<p><span class="text-bold">Параметры:</span> <code>&jotfilter</code>, <code>&jotauthorfield</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> <code>[+jotcount+]</code>, <code>[+jotlastdate+]</code>, <code>[+jotlastauthor+]</code></p>
<p><span class="text-bold">Пример:</span> вывести количество комментариев.</p>
<pre class="brush: html;">
[!Ditto?
&parents=`4`
&extenders=`jotdatesort`
&tpl=`@CODE:&lt;h3&gt;&lt;a href="[~[+id+]~]"&gt;[+title+]&lt;/a&gt;&lt;/h3&gt;Количество комментариев: [+jotcount+]&lt;br /&gt;Автор комментария: [+jotlastauthor+]&lt;br /&gt;Дата последнего комментария: [+jotlastdate:date=`%d.%m.%Y, %H:%M:%S`+]&lt;br /&gt;Дата поста: [+date+]&lt;br /&gt;Автор поста: [+author+]`
&jotfilter=`1`
&jotauthorfield=`Гость`!]
</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`jotdatesort`</code> - имя используемого расширения</li>
<li><code>&jotfilter=`1`</code> - не выводить без комментариев</li>
<li><code>&extenders=`jotdatesort`</code> - имя автора комментария (гостя)</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1152"></a>level</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> вывод документов определенного уровня.</p>
<p><span class="text-bold">Параметры:</span> <code>&level</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span> вывести количество комментариев.</p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`level` &depth=`3` &level=`3`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`level`</code> - имя используемого расширения</li>
<li><code>&depth=`3`</code> - глубина сканирования</li>
<li><code>&level=`3`</code> - вывести документы 3-го уровня</li>
</ul>
</div>
<h3 class="sub-header text-bold"><a id="1153"></a>search</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> поиск на Ditto.</p>
<p><span class="text-bold">Параметры:</span> <code>&searchFields</code>, <code>&searchOptions</code>, <code>&searchString</code>, <code>&searchOptionsSeparators</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span></p>
<pre class="brush: html;">[!Ditto? &parents=`4` &extenders=`search` &searchString=`my search string` &searchFields=`content,tv1,tv2` &searchOptions=`caseSensitive` ...`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`search`</code> - имя используемого расширения</li>
<li><code>&searchString=`my search string`</code> - поисковый запрос</li>
<li><code>&searchFields=`content,tv1,tv2`</code> - поля и переменные шаблона, по которым происходит поиск</li>
<li><code>&searchOptions=`caseSensitive`</code> - производить поиск с учетом регистра</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1159"></a>tvFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> фильтрация документов по заданным TV.</p>
<p><span class="text-bold">Параметры:</span> <code>&tvFilterBy</code>, <code>&tvFilterMode</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span> показать все дочерние документы контейнеров 3, 4 и 5, к которым привязан TV-параметр dummy.</p>
<pre class="brush: html;">[!Ditto? &parents=`3,4,5` &extenders=`tvFilter` &tvFilerBy=`dummy` &tvFilterMode=`0`!]</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`tvFilter`</code> - имя используемого расширения</li>
<li><code>&tvFilerBy=`dummy`</code> - имя TV-параметра, по которому происходит фильтрация</li>
<li><code>&tvFilterMode=`0`</code> - исключить документы, к которым НЕ привязан TV-параметр dummy</li>
</ul>
</div>

<h3 class="sub-header text-bold"><a id="1195"></a>multiTvFilter</h3>
<div class="well bordered-left bordered-blue">
<p><span class="text-bold">Описание:</span> фильтрация строк переменной шаблона multiTv.</p>
<p><span class="text-bold">Параметры:</span> <code>&multiTvFilterBy</code>, <code>&multiTvFilterOptions</code></p>
<p><span class="text-bold">Плейсхолдеры:</span> нет</p>
<p><span class="text-bold">Пример:</span> показать все дочерние документы контейнеров 3, 4 и 5, у которых переменная шаблона multiTv <code>event</code> в столбце <code>title</code> не содержит <code>Important</code>.</p>
<pre class="brush: html;">
[!Ditto?
&parents=`3,4,5`
&extenders=`@FILE assets/tvs/multitv/dittoExtender/multitvfilter.extender.inc.php`
&multiTvFilterOptions=`[{"name":"title","type":"text","value":"Important","mode":"contains"}]`!]
</pre>
<p>где:</p>
<ul>
<li><code>&extenders=`@FILE assets/tvs/multitv/dittoExtender/multitvfilter.extender.inc.php`</code> - имя используемого расширения</li>
<li><code>&multiTvFilterBy=`event`</code> - имя переменной шаблона multiTv, по которой происходит фильтрация</li>
<li><code>&multiTvFilterOptions=`[{"name":"title","type":"text","value":"Important","mode":"contains"}]`</code> - исключить элементы, у которых в столбце <code>title</code> не содержится <code>Important</code></li>
</ul>
</div>